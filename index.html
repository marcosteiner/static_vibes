<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="theme-color" content="#0d0d0d">
  <title>Gym Pause Timer</title>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;700;900&family=Barlow:wght@300;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- BLINK OVERLAY — pulses green when rest is done -->
<div id="blink-overlay"></div>

<!-- ── SETTINGS ── -->
<div class="screen" id="settings-screen">

  <div class="settings-header">
    <div class="settings-title">Gym Pause Timer</div>
    <div class="settings-sub">Silent · Blinks when rest is up · Headphone tone</div>
  </div>

  <div class="settings-body">

    <!-- REST DURATION -->
    <div class="setting-group">
      <div class="setting-label">Rest Duration</div>
      <div class="setting-row">
        <div>
          <div class="setting-name">Break length</div>
          <div class="setting-hint">Timer counts down, then blinks until you tap</div>
        </div>
        <div class="stepper">
          <button class="stepper-btn" onclick="adjustRest(-15)">−</button>
          <div class="stepper-val" id="rest-display">60s</div>
          <button class="stepper-btn" onclick="adjustRest(+15)">+</button>
        </div>
      </div>
      <div class="presets-row" id="rest-presets">
        <button class="preset-pill" onclick="setRest(45)">45s</button>
        <button class="preset-pill active" onclick="setRest(60)">1 min</button>
        <button class="preset-pill" onclick="setRest(90)">90s</button>
        <button class="preset-pill" onclick="setRest(120)">2 min</button>
        <button class="preset-pill" onclick="setRest(180)">3 min</button>
      </div>
    </div>

    <!-- ALERTS -->
    <div class="setting-group">
      <div class="setting-label">Alerts</div>

      <div class="setting-row setting-row-spaced">
        <div>
          <div class="setting-name">Screen blink</div>
          <div class="setting-hint">Whole screen pulses green when rest is up — keeps blinking until you tap</div>
        </div>
        <div class="toggle-wrap">
          <input type="checkbox" id="toggle-blink" class="toggle-input" checked>
          <div class="toggle-track" onclick="document.getElementById('toggle-blink').click()"></div>
          <div class="toggle-thumb"></div>
        </div>
      </div>

      <div class="setting-row setting-row-spaced">
        <div>
          <div class="setting-name">Audio tone</div>
          <div class="setting-hint">Soft two-note pulse through headphones</div>
        </div>
        <div class="toggle-wrap">
          <input type="checkbox" id="toggle-audio" class="toggle-input" checked>
          <div class="toggle-track" onclick="document.getElementById('toggle-audio').click()"></div>
          <div class="toggle-thumb"></div>
        </div>
      </div>

      <div class="setting-row">
        <div>
          <div class="setting-name">10s warning</div>
          <div class="setting-hint">Brief orange flash 10s before rest ends</div>
        </div>
        <div class="toggle-wrap">
          <input type="checkbox" id="toggle-warning" class="toggle-input" checked>
          <div class="toggle-track" onclick="document.getElementById('toggle-warning').click()"></div>
          <div class="toggle-thumb"></div>
        </div>
      </div>
    </div>

  </div>

  <div class="start-btn-wrap">
    <button class="start-btn" onclick="startSession()">START</button>
  </div>

</div>

<!-- ── TIMER ── -->
<div class="screen hidden" id="timer-screen">

  <!-- Set dots -->
  <div class="set-counter">
    <div class="sets-display" id="sets-dots"></div>
  </div>

  <!-- Tap area: ring + digits -->
  <div class="tap-zone" id="tap-zone" onclick="handleTap()">
    <div class="ring-wrap">
      <svg class="ring-svg" viewBox="0 0 200 200">
        <circle class="ring-bg"   cx="100" cy="100" r="90"/>
        <circle class="ring-fill" cx="100" cy="100" r="90"
          id="ring-fill"
          stroke-dasharray="565.5"
          stroke-dashoffset="565.5"/>
      </svg>
    </div>
    <div class="timer-content">
      <div class="timer-phase" id="timer-phase">START</div>
      <div class="timer-digits" id="timer-digits">&#9654;</div>
      <div class="timer-sub" id="timer-sub"></div>
    </div>
  </div>

  <!-- Controls (outside tap zone) -->
  <div class="timer-bottom">
    <div class="timer-hint" id="timer-hint">Tap to start resting</div>
    <div class="bottom-controls">
      <button class="ctrl-btn" onclick="goSettings()">⚙ Settings</button>
      <button class="ctrl-btn danger" onclick="resetAll()">↺ Reset</button>
    </div>
  </div>

</div>

<script src="state.js"></script>
<script src="audio.js"></script>
<script src="ui.js"></script>
<script src="timer.js"></script>
<script src="main.js"></script>
</body>
</html>
